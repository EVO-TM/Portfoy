<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Evo Studios | Portfolio</title>
    
    <!-- SİTE LOGOSU -->
    <link rel="icon" type="image/png" href="evo_logo.png">
    
    <!-- FONTLAR & İKONLAR -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@400;700;900&family=Courier+New:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        :root {
            --bg-color: #f0ebe5;
            --ink: #1a1a1a;
            --accent: #6c5ce7; 
            --s-red: #ff6b6b;
            --s-yellow: #feca57;
            --s-green: #1dd1a1;
        }

        /* --- TEMEL AYARLAR --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            background-color: var(--bg-color);
            background-image: 
                radial-gradient(#bdc3c7 1px, transparent 1px),
                radial-gradient(#bdc3c7 1px, transparent 1px);
            background-position: 0 0, 25px 25px;
            background-size: 50px 50px;
            font-family: 'Outfit', sans-serif;
            color: var(--ink);
            margin: 0; padding: 0;
            height: 100vh; width: 100vw; overflow: hidden; 
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
        }

        /* --- ANİMASYONLAR --- */
        @keyframes popIn { 0% { transform: scale(0.9); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes floatUp { 0% { transform: translateY(0) rotate(0deg); opacity: 0; } 100% { transform: translateY(-110vh) rotate(360deg); opacity: 0; } }

        /* --- UI ELEMENTLERİ --- */
        .lang-switch { position: fixed; top: 20px; right: 20px; background: white; border: 2px solid var(--ink); border-radius: 50px; padding: 5px; display: flex; gap: 5px; z-index: 1000; box-shadow: 4px 4px 0 rgba(0,0,0,0.1); }
        .lang-btn { border: none; background: none; padding: 5px 12px; font-weight: 800; font-size: 14px; cursor: pointer; border-radius: 20px; transition: 0.2s; color: #999; }
        .lang-btn.active { background: var(--ink); color: white; }

        #loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--ink); z-index: 99999; display: flex; flex-direction: column; justify-content: center; align-items: center; transition: opacity 0.5s ease, visibility 0.5s; }
        .spinner { width: 50px; height: 50px; border: 5px solid rgba(255,255,255,0.2); border-top-color: var(--s-green); border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 20px; }
        .loading-text { color: white; font-weight: bold; letter-spacing: 2px; }
        .loader-hidden { opacity: 0; visibility: hidden; pointer-events: none; }

        #bg-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; overflow: hidden; pointer-events: none; }
        .bg-icon { position: absolute; color: rgba(0,0,0,0.05); animation: floatUp linear infinite; bottom: -50px; }

        /* --- WALKMAN PLAYER (GÜNCELLENDİ) --- */
        #walkman-container {
            position: fixed; bottom: -300px; right: 20px; width: 320px; height: 180px;
            background: #e84118; border: 4px solid #2d3436; border-radius: 20px;
            z-index: 9999; transition: bottom 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            display: flex; flex-direction: column; padding: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        #walkman-container.active { bottom: 110px; /* Nav bar üstünde kalsın */ }
        
        .wm-controls { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
        .wm-logo { color: white; font-weight: 900; font-style: italic; font-size: 16px; display: flex; align-items: center; gap: 5px; }
        .wm-close { background: #2d3436; border: 2px solid white; color: white; width: 28px; height: 28px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 14px; transition: 0.2s; }
        .wm-close:hover { transform: scale(1.1); background: #d63031; }
        
        .wm-screen { 
            flex: 1; background: #000; border-radius: 10px; overflow: hidden; 
            position: relative; border: 3px solid #2d3436; 
            box-shadow: inset 0 0 20px rgba(255,255,255,0.1);
        }
        #spotify-frame { width: 100%; height: 100%; border: none; }

        /* --- NAV DOCK --- */
        .nav-dock-wrapper { position: fixed; bottom: 30px; display: flex; justify-content: center; z-index: 100; width: 100%; pointer-events: none; }
        .nav-dock { pointer-events: auto; background-color: #e6dcc6; padding: 12px 15px; border-radius: 18px; display: flex; gap: 15px; border: 3px solid #2d241e; box-shadow: 6px 6px 0px #b0a082, 10px 10px 15px rgba(0,0,0,0.15); transition: transform 0.3s ease; position: relative; background-image: url("data:image/svg+xml,%3Csvg width='64' height='64' viewBox='0 0 64 64' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 16c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8zm0-2c3.314 0 6-2.686 6-6s-2.686-6-6-6-6 2.686-6 6 2.686 6 6 6zm33.414-6l5.95-5.95L45.95.636 40 6.586 34.05.636l-1.414 1.414L38.586 8l-5.95 5.95 1.414 1.414L40 9.414l5.95 5.95 1.414-1.414L41.414 8zM40 48c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8zm0-2c3.314 0 6-2.686 6-6s-2.686-6-6-6-6 2.686-6 6 2.686 6 6 6zM9.414 40l5.95-5.95-1.414-1.414L8 38.586l-5.95-5.95L.636 34.05 6.586 40l-5.95 5.95 1.414 1.414L8 41.414l5.95 5.95 1.414-1.414L9.414 40z' fill='%23d1c4a5' fill-opacity='0.15' fill-rule='evenodd'/%3E%3C/svg%3E"); }
        .nav-dock:hover { transform: translateY(-5px); }
        .nav-btn { width: 60px; height: 60px; border-radius: 12px; background: #fffcf5; border: 3px solid #2d241e; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center; color: #2d241e; box-shadow: 0 5px 0 #2d241e; transition: all 0.1s ease-in-out; }
        .nav-btn:hover { transform: translateY(-2px); box-shadow: 0 7px 0 #2d241e; background: #fff; }
        .nav-btn.active { transform: translateY(5px); box-shadow: 0 0 0 #2d241e; background: var(--s-yellow); }

        /* --- CONTENT AREA (FIXED LAYOUT) --- */
        .stage { width: 100%; max-width: 1200px; height: 85vh; position: relative; display: flex; justify-content: center; align-items: center; }
        .page-section { position: absolute; width: 100%; height: 100%; display: none; flex-direction: column; align-items: center; justify-content: center; padding: 20px; opacity: 0; transition: opacity 0.3s; }
        .page-section.active { display: flex; opacity: 1; animation: popIn 0.5s ease forwards; }

        /* --- HOME (Cardboard Box - Layout Fix) --- */
        .cardboard-box { 
            width: 420px; max-width: 90%; 
            min-height: 550px; height: auto;
            background-color: #dcbfa6; 
            border-radius: 15px; position: relative; 
            display: flex; flex-direction: column; align-items: center; justify-content: center; 
            box-shadow: 1px 1px 0 #c2a68c, 2px 2px 0 #c2a68c, 3px 3px 0 #c2a68c, 4px 4px 0 #c2a68c, 20px 20px 30px rgba(0,0,0,0.15); 
            border: 2px solid #bba38e; padding: 40px 30px; text-align: center; 
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E");
        }
        
        .box-tape { position: absolute; background: rgba(255, 255, 255, 0.4); backdrop-filter: blur(2px); z-index: 10; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        .tape-top-left { width: 120px; height: 35px; top: -15px; left: -30px; transform: rotate(-35deg); border-left: 2px dashed rgba(255,255,255,0.5); border-right: 2px dashed rgba(255,255,255,0.5); }
        .tape-bottom-right { width: 100px; height: 35px; bottom: 10px; right: -25px; transform: rotate(-40deg); border-left: 2px dashed rgba(255,255,255,0.5); border-right: 2px dashed rgba(255,255,255,0.5); }
        
        .polaroid-photo { background: #fff; padding: 12px 12px 35px 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); transform: rotate(-3deg); margin-bottom: 20px; width: 200px; position: relative; transition: transform 0.3s; }
        .polaroid-photo:hover { transform: rotate(0deg) scale(1.05); }
        .polaroid-photo img { width: 100%; height: auto; background: #f0f0f0; display: block; aspect-ratio: 1/1; object-fit: cover; }
        .polaroid-tape { position: absolute; top: -12px; left: 50%; transform: translateX(-50%) rotate(2deg); width: 60px; height: 25px; background: rgba(230, 200, 100, 0.6); }

        .stamp-title { font-family: 'Outfit', sans-serif; font-weight: 900; font-size: 42px; color: #2d241e; text-transform: uppercase; line-height: 0.9; margin: 15px 0; opacity: 0.9; text-shadow: 1px 1px 0px rgba(255,255,255,0.4); transform: rotate(-2deg); }
        .box-desc { color: #5d4e42; font-family: 'Courier New', monospace; font-weight: bold; font-size: 15px; margin-bottom: 25px; max-width: 90%; }
        
        .sticker-btn { background: #ff6b6b; color: white; font-weight: 800; font-size: 16px; padding: 12px 35px; border-radius: 50px 20px 60px 30px; text-decoration: none; border: 3px solid white; box-shadow: 0 6px 0 rgba(0,0,0,0.1); transition: all 0.2s; display: inline-block; transform: rotate(2deg); }
        .sticker-btn:hover { transform: rotate(0deg) scale(1.05); background: #ff5252; }

        /* --- HABERLER (GÜNCELLENMİŞ & SPOTIFY FIX) --- */
        .news-container { background-color: #d1b48c; border: 8px solid #5d4e42; border-radius: 12px; width: 100%; max-width: 700px; height: 100%; max-height: 75vh; display: flex; flex-direction: column; box-shadow: 5px 5px 25px rgba(0,0,0,0.2); position: relative; font-family: 'Courier New', monospace; background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 20.5V18H0v-2h20v-2H0V8h20V6H0V4h20V2H0V0h21.5v21.5h-1.5z' fill='%23c2a681' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E"); }
        .news-header-modern { padding: 15px; background: #fff8e1; border-bottom: 2px dashed #bba38e; z-index: 10; display: flex; flex-direction: column; gap: 8px; }
        .nh-title { font-size: 24px; font-weight: 900; color: #2d241e; display: flex; align-items: center; justify-content: space-between; }
        .live-status-dot { width: 10px; height: 10px; background: #00b894; border-radius: 50%; box-shadow: 0 0 8px #00b894; animation: blinkLive 2s infinite; }
        @keyframes blinkLive { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
        
        .search-bar-wrap { display: flex; background: #fff; border: 1px solid #999; border-radius: 8px; padding: 5px 10px; align-items: center; width: 100%; }
        .search-input { border: none; outline: none; background: transparent; width: 100%; font-family: inherit; font-size: 13px; font-weight: bold; }
        
        .news-filters { display: flex; gap: 5px; overflow-x: auto; padding-bottom: 2px; }
        .filter-btn { background: #fdf5e6; border: 2px solid #bba38e; padding: 4px 10px; font-weight: bold; color: #5d4e42; cursor: pointer; font-size: 11px; transition: 0.1s; white-space: nowrap; }
        .filter-btn.active { background: #bba38e; color: white; }

        .news-scroll-area { flex: 1; overflow-y: auto; padding: 20px; scroll-behavior: smooth; }
        .news-scroll-area::-webkit-scrollbar { width: 6px; }
        .news-scroll-area::-webkit-scrollbar-thumb { background: #8b7056; border-radius: 4px; }

        .news-card { background: #f1f2f6; padding: 15px; margin-bottom: 30px; position: relative; box-shadow: 0 5px 10px rgba(0,0,0,0.1); transform: rotate(1deg); border: 1px solid #ccc; transition: 0.2s; }
        .news-card:hover { transform: rotate(0deg) scale(1.01); z-index: 2; }
        .news-card::before { content: ''; position: absolute; top: -12px; left: 50%; transform: translateX(-50%) rotate(1deg); width: 100px; height: 30px; background: rgba(255, 255, 255, 0.45); border-left: 2px dashed rgba(255,255,255,0.6); border-right: 2px dashed rgba(255,255,255,0.6); box-shadow: 0 2px 3px rgba(0,0,0,0.1); z-index: 6; }

        .nc-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
        .nc-user-row { display: flex; gap: 8px; align-items: center; }
        .nc-avatar { width: 32px; height: 32px; border-radius: 50%; background: #eee; border: 1px solid #333; }
        .nc-meta { display: flex; flex-direction: column; line-height: 1.1; }
        .nc-author { font-weight: 800; font-size: 13px; color: #333; }
        .nc-time { font-size: 10px; color: #777; }
        .nc-tag-sticker { background: #feca57; color: #333; padding: 2px 6px; font-size: 10px; font-weight: bold; transform: rotate(-2deg); border: 1px solid rgba(0,0,0,0.1); }

        /* MÜZİK BUTONU STİLİ */
        .music-play-btn {
            background: #1DB954; color: white; border: none; padding: 8px 12px;
            border-radius: 20px; font-size: 12px; font-weight: bold;
            display: flex; align-items: center; gap: 6px; cursor: pointer;
            margin-top: 10px; width: fit-content; box-shadow: 0 4px 0 #117a35;
            transition: transform 0.1s, box-shadow 0.1s;
        }
        .music-play-btn:active { transform: translateY(4px); box-shadow: none; }
        .music-play-btn i { font-size: 14px; }

        .nc-media { width: 100%; height: auto; object-fit: cover; margin-top: 10px; border: 2px solid #222; max-height: 200px; background: #000; }
        .nc-title { font-size: 16px; font-weight: 800; margin: 10px 0 5px 0; font-family: 'Outfit', sans-serif; }
        .nc-desc { font-size: 13px; color: #444; line-height: 1.4; }

        /* OTHER CARDS */
        .cardboard-about, .simple-card, .project-card { display: none; } /* JS ile açılacak */
        .cardboard-about { background-color: #dcbfa6; border: 3px solid #bba38e; border-radius: 20px; width: 100%; max-width: 800px; padding: 40px; display: flex; align-items: center; gap: 40px; position: relative; box-shadow: 10px 10px 0 rgba(0,0,0,0.1); background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E"); }
        .cb-text-content { flex: 1; }
        .ref-avatar-card { width: 220px; background: white; border: 2px solid #1a1a1a; padding: 8px; transform: rotate(3deg); box-shadow: 5px 5px 10px rgba(0,0,0,0.15); }
        .ref-photo-frame { width: 100%; height: 220px; background: #f2f2f2; overflow: hidden; display: flex; align-items: flex-end; justify-content: center; }
        .ref-photo-frame img { width: 90%; }
        
        .simple-card { background: #fff; border: 3px solid var(--ink); border-radius: 20px; padding: 30px; width: 100%; max-width: 500px; text-align: center; box-shadow: 8px 8px 0 rgba(0,0,0,0.1); }
        .project-card { background: #fff; border: 4px solid var(--ink); border-radius: 20px; padding: 10px; width: 100%; max-width: 450px; text-align: center; box-shadow: 10px 10px 0 rgba(0,0,0,0.1); }
        .game-thumb { width: 100%; height: 250px; background: #333; border-radius: 12px; margin-bottom: 15px; overflow: hidden; }
        .game-thumb img { width: 100%; height: 100%; object-fit: cover; }
        .play-big-btn { display: block; background: #00b894; color: white; padding: 12px; border-radius: 8px; text-decoration: none; font-weight: bold; border: 2px solid #000; box-shadow: 0 4px 0 #000; margin-top: 10px; }
        .play-big-btn:hover { transform: translateY(2px); box-shadow: 0 2px 0 #000; }

        /* --- MOBILE RESPONSIVE --- */
        @media (max-width: 768px) {
            .nav-dock-wrapper { bottom: 15px; }
            .nav-dock { padding: 8px; gap: 8px; width: 95%; justify-content: space-around; }
            .nav-btn { width: 50px; height: 50px; font-size: 20px; margin: 0; }
            /* Mobilde News'i gizle (İsteğe bağlı, kodda vardı korudum) */
            .nav-btn[data-target="news"], #news { display: none !important; }
            
            .cardboard-box { width: 95%; padding: 25px 15px; min-height: auto; }
            .stamp-title { font-size: 36px; }
            .cardboard-about { flex-direction: column-reverse; padding: 25px; text-align: center; gap: 20px; }
            .ref-avatar-card { width: 180px; transform: rotate(2deg); margin: 0 auto; }
            .ref-photo-frame { height: 180px; }
            
            #walkman-container { display: none; } /* Mobilde walkman gizlensin */
        }
    </style>
</head>
<body>

    <!-- DİL DEĞİŞTİRME -->
    <div class="lang-switch">
        <button class="lang-btn active" id="btn-tr" onclick="changeLanguage('tr')">TR</button>
        <button class="lang-btn" id="btn-en" onclick="changeLanguage('en')">EN</button>
    </div>

    <!-- YÜKLEME EKRANI -->
    <div id="loader">
        <div class="spinner"></div>
        <div class="loading-text">EVO STUDIOS...</div>
    </div>

    <!-- ARKA PLAN -->
    <div id="bg-container"></div>

    <!-- WALKMAN PLAYER (SABİT & GİZLİ) -->
    <div id="walkman-container">
        <div class="wm-controls">
            <div class="wm-logo"><i class="fa-solid fa-music"></i> EVO-WALKMAN</div>
            <button class="wm-close" onclick="closeWalkman()"><i class="fa-solid fa-times"></i></button>
        </div>
        <div class="wm-screen">
            <iframe id="spotify-frame" src="" allowtransparency="true" allow="encrypted-media"></iframe>
        </div>
    </div>

    <!-- MENU -->
    <div class="nav-dock-wrapper">
        <div class="nav-dock">
            <div class="nav-btn active" data-target="home"><i class="fa-solid fa-house"></i></div>
            <div class="nav-btn" data-target="project"><i class="fa-solid fa-gamepad"></i></div>
            <div class="nav-btn" data-target="news"><i class="fa-solid fa-newspaper"></i></div>
            <div class="nav-btn" data-target="free"><i class="fa-solid fa-gift"></i></div>
            <div class="nav-btn" data-target="about"><i class="fa-solid fa-id-card"></i></div>
        </div>
    </div>

    <!-- SAHNE -->
    <div class="stage">
        
        <!-- === HOME (Düzeltildi) === -->
        <div id="home" class="page-section active">
            <div class="cardboard-box" id="tiltCard">
                <div class="box-tape tape-top-left"></div>
                <div class="box-tape tape-bottom-right"></div>
                <div class="polaroid-photo">
                    <div class="polaroid-tape"></div>
                    <img src="maskot.png" alt="Mascot" onerror="this.src='https://tr.rbxcdn.com/7fb209cf8866164d1d94eb38e3e4a320/420/420/Image/Png'">
                </div>
                <h1 class="stamp-title">Evo<br>Studios</h1>
                <p class="box-desc" data-t="home_subtitle">Ultimate Roblox Development</p>
                <a href="#" onclick="switchTab('about')" class="sticker-btn">
                    <i class="fa-solid fa-circle-user"></i> <span data-t="about_me_btn">Hakkımda</span>
                </a>
            </div>
        </div>

        <!-- === PROJECT === -->
        <div id="project" class="page-section">
            <div class="project-card">
                <div class="game-thumb">
                    <img src="test_place.png" onerror="this.src='https://via.placeholder.com/500x300/2b303b/ffffff?text=Game+Image'">
                </div>
                <h2 style="margin:0;">Test Place</h2>
                <p style="color:#666; font-size:14px; margin: 10px 0;" data-t="project_desc">Geliştirme aşamasındaki mekaniklerimiz.</p>
                <a href="https://www.roblox.com/games/OYUN_ID" target="_blank" class="play-big-btn">
                    <i class="fa-solid fa-play"></i> <span data-t="play_btn">Oyna</span>
                </a>
            </div>
        </div>

        <!-- === HABERLER (MUSIC UPDATE) === -->
        <div id="news" class="page-section">
            <div class="news-container">
                <div class="news-header-modern">
                    <div class="nh-title">
                        Evo Feed 
                        <div class="live-status-dot"></div>
                    </div>
                    <div class="search-bar-wrap">
                        <i class="fa-solid fa-search" style="color:#999; margin-right:5px;"></i>
                        <input type="text" class="search-input" placeholder="Search..." onkeyup="debounceSearch(this.value)">
                    </div>
                    <div class="news-filters">
                        <button class="filter-btn active" onclick="filterNews('all', this)">All</button>
                        <button class="filter-btn" onclick="filterNews('update', this)">Update</button>
                        <button class="filter-btn" onclick="filterNews('leak', this)">Leak</button>
                    </div>
                </div>
                
                <div id="news-feed" class="news-scroll-area">
                    <div style="text-align:center; padding-top:40px; color:#5d4e42; font-weight:bold;">Loading Feeds...</div>
                </div>
            </div>
        </div>

        <!-- === FREE === -->
        <div id="free" class="page-section">
            <div class="simple-card">
                <i class="fa-solid fa-cubes" style="font-size:40px; color:var(--s-green); margin-bottom:15px;"></i>
                <h2 style="margin:0;" data-t="my_creations">Eserlerim</h2>
                <p style="font-size:14px; color:#555;" data-t="creations_desc">Roblox projelerin için ücretsiz modeller.</p>
                <a href="#" class="play-big-btn" style="background:#0984e3; border-color:#2d3436;">
                    <i class="fa-solid fa-store"></i> <span data-t="store_btn">Store</span>
                </a>
            </div>
        </div>

        <!-- === ABOUT === -->
        <div id="about" class="page-section">
            <div class="cardboard-about">
                <div class="cb-text-content">
                    <h2 style="font-size:32px; margin:0 0 10px 0; font-weight:900;">EVO</h2>
                    <p style="font-family:'Courier New', monospace; font-size:14px; line-height:1.5;">
                        <span data-t="bio_1">Roblox platformunda</span> <span style="background:var(--s-yellow);">olağanüstü deneyimler</span> <span data-t="bio_3">üretiyorum.</span>
                    </p>
                    <div style="margin-top:20px; display:flex; gap:10px;">
                        <a href="#" class="sticker-btn" style="padding:8px 15px; font-size:14px;"><i class="fa-brands fa-discord"></i></a>
                        <a href="#" class="sticker-btn" style="padding:8px 15px; font-size:14px; background:#000;"><i class="fa-brands fa-x-twitter"></i></a>
                    </div>
                </div>
                <div class="ref-avatar-card">
                    <div class="ref-photo-frame">
                        <img id="my-avatar" src="" onerror="this.src='https://tr.rbxcdn.com/7fb209cf8866164d1d94eb38e3e4a320/420/420/Image/Png'">
                    </div>
                    <div style="text-align:center; font-weight:bold; margin-top:5px;">@User</div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- KONFIGURASYON ---
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxgaVePszb9zvXaxccgPw0yzYo9Ul8CEzGGlVrd92Ha6CtkUbg67aO9dTL5XuxacBZ3/exec';
        let globalNewsData = [];
        let searchTimeout;

        // DİL VERİSİ
        const langData = {
            tr: { home_subtitle: "Ultimate Roblox Development", about_me_btn: "Hakkımda", project_desc: "Geliştirmekte olduğumuz test alanı.", play_btn: "Oyna", my_creations: "Eserlerim", creations_desc: "Ücretsiz modeller.", store_btn: "Mağaza", bio_1: "Roblox platformunda", bio_3: "üretiyorum." },
            en: { home_subtitle: "Ultimate Roblox Development", about_me_btn: "About Me", project_desc: "Test area under development.", play_btn: "Play", my_creations: "My Creations", creations_desc: "Free models.", store_btn: "Store", bio_1: "Creating on Roblox", bio_3: "." }
        };

        // --- SAYFA YÜKLENİNCE ---
        window.onload = function() {
            setTimeout(() => document.getElementById('loader').classList.add('loader-hidden'), 1500);
            fetchNews();
            
            // Tab Geçişleri
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    if(window.innerWidth <= 768 && btn.dataset.target === 'news') return;
                    
                    switchTab(btn.dataset.target);
                });
            });
        };

        function switchTab(id) {
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.querySelector(`.nav-btn[data-target="${id}"]`).classList.add('active');
            
            document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function changeLanguage(lang) {
            document.querySelectorAll('[data-t]').forEach(el => {
                const k = el.dataset.t;
                if(langData[lang][k]) el.innerText = langData[lang][k];
            });
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('btn-'+lang).classList.add('active');
        }

        // --- MÜZİK ÇALAR (SPOTIFY LOGIC) ---
        function playMusic(link) {
            const container = document.getElementById('walkman-container');
            const frame = document.getElementById('spotify-frame');

            // Eğer link zaten embed formatındaysa dokunma, değilse dönüştür
            // Örnek link: https://open.spotify.com/track/4uLU6hMCjMI75M1A2tKUQC
            // Hedef link: https://open.spotify.com/embed/track/4uLU6hMCjMI75M1A2tKUQC
            
            let embedUrl = link;
            if (!link.includes('/embed/')) {
                if (link.includes('track/')) {
                    const id = link.split('track/')[1].split('?')[0];
                    embedUrl = `https://open.spotify.com/embed/track/${id}?utm_source=generator&theme=0`;
                } else if (link.includes('playlist/')) {
                    const id = link.split('playlist/')[1].split('?')[0];
                    embedUrl = `https://open.spotify.com/embed/playlist/${id}?utm_source=generator&theme=0`;
                }
            }

            frame.src = embedUrl;
            container.classList.add('active');
        }

        function closeWalkman() {
            document.getElementById('walkman-container').classList.remove('active');
            setTimeout(() => { document.getElementById('spotify-frame').src = ''; }, 500);
        }

        // --- HABERLER (FEED) ---
        async function fetchNews() {
            if(window.innerWidth <= 768) return; // Mobilde çekme

            const feed = document.getElementById('news-feed');
            try {
                // API Proxy kullanarak Google Sheet'ten veriyi çekiyoruz
                const res = await fetch('https://api.codetabs.com/v1/proxy?quest=' + encodeURIComponent(SCRIPT_URL));
                const data = await res.json();
                
                // Veriyi ters çevir (En yeni en üstte)
                globalNewsData = data.reverse(); 
                renderNews(globalNewsData);
            } catch(e) {
                feed.innerHTML = '<div style="text-align:center; padding:20px; color:red;">Connection Error.</div>';
                console.error(e);
            }
        }

        function renderNews(data) {
            const feed = document.getElementById('news-feed');
            feed.innerHTML = '';
            
            if(data.length === 0) {
                feed.innerHTML = '<div style="text-align:center; padding:20px; color:#777;">No news found.</div>';
                return;
            }

            data.forEach(item => {
                // Medya Kontrolü
                let mediaHtml = '';
                if(item.gorsel && item.gorsel.length > 5) {
                    if(item.gorsel.includes('youtube')) {
                         mediaHtml = `<iframe class="nc-media" src="https://www.youtube.com/embed/${item.gorsel.split('v=')[1] || ''}" frameborder="0"></iframe>`;
                    } else {
                        mediaHtml = `<img src="${item.gorsel}" class="nc-media" onerror="this.style.display='none'">`;
                    }
                }

                // Müzik Butonu Kontrolü
                let musicButtonHtml = '';
                if(item.music && item.music.length > 10) {
                    musicButtonHtml = `
                        <button class="music-play-btn" onclick="playMusic('${item.music}')">
                            <i class="fa-brands fa-spotify"></i> Play Soundtrack
                        </button>
                    `;
                }

                const html = `
                    <div class="news-card">
                        <div class="nc-header">
                            <div class="nc-user-row">
                                <img src="evo_logo.png" class="nc-avatar" onerror="this.src='https://via.placeholder.com/32'">
                                <div class="nc-meta">
                                    <span class="nc-author">Evo Studios</span>
                                    <span class="nc-time">${item.tarih ? item.tarih.substring(0,10) : 'Just Now'}</span>
                                </div>
                            </div>
                            <span class="nc-tag-sticker">${item.etiket || 'News'}</span>
                        </div>
                        <h3 class="nc-title">${item.baslik}</h3>
                        ${musicButtonHtml}
                        ${mediaHtml}
                        <p class="nc-desc">${item.icerik}</p>
                    </div>
                `;
                feed.innerHTML += html;
            });
        }

        // Filtreleme & Arama
        function filterNews(type, btn) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            const filtered = globalNewsData.filter(item => {
                if(type === 'all') return true;
                return (item.etiket || '').toLowerCase().includes(type);
            });
            renderNews(filtered);
        }

        function debounceSearch(val) {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                const filtered = globalNewsData.filter(item => 
                    (item.baslik || '').toLowerCase().includes(val.toLowerCase()) || 
                    (item.icerik || '').toLowerCase().includes(val.toLowerCase())
                );
                renderNews(filtered);
            }, 300);
        }
    </script>
</body>
</html>
