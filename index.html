<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Evo Studios | Portfolio</title>
    
    <!-- SİTE LOGOSU -->
    <link rel="icon" type="image/png" href="evo_logo.png">
    <link rel="apple-touch-icon" href="evo_logo.png">
    <meta property="og:image" content="evo_logo.png">

    <!-- FONTLAR & İKONLAR -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&family=Outfit:wght@400;700;900&family=Courier+New:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        :root {
            /* Tema Renk Paleti - Karton & Mürekkep Odaklı */
            --bg-sky-top: #0b1020;
            --bg-sky-bottom: #1b2a6b;
            --ink: #2d241e; 
            --kraft-base: #e5d3b3;
            --kraft-dark: #cba87c;
            --kraft-light: #f4ecd8;
            --accent: #6c5ce7;
            --s-yellow: #feca57;
            --s-green: #1dd1a1;
            --s-red: #ff6b6b;
            --snow: #ffffff;
            --tape-color: rgba(255, 255, 255, 0.4);
        }

        /* --- TEMEL AYARLAR --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            background: radial-gradient(1200px circle at 20% 20%, rgba(108,92,231,0.25), transparent 55%),
            radial-gradient(900px circle at 80% 30%, rgba(0,184,148,0.18), transparent 55%),
            linear-gradient(180deg, var(--bg-sky-top), var(--bg-sky-bottom));
            font-family: 'Outfit', sans-serif;
            color: var(--ink);
            margin: 0; padding: 0;
            height: 100vh; width: 100vw; overflow: hidden; 
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            position: relative;
        }

        /* --- PRELOADER --- */
        #main-loader {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: var(--bg-sky-top); z-index: 999999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 0.6s ease, visibility 0.6s ease;
        }
        #main-loader.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
        .loader-logo { width: 100px; height: auto; margin-bottom: 20px; animation: softFloat 2s infinite ease-in-out; }
        .loader-text { color: white; font-family: 'Courier New', monospace; font-size: 18px; font-weight: bold; letter-spacing: 4px; animation: blinkLive 1.5s infinite; }

        /* --- BACKGROUND KATMANLARI --- */
        .forest-layer { position: fixed; bottom: 0; left: 0; width: 100%; pointer-events: none; }
        .layer-back { height: 400px; opacity: 0.4; filter: blur(2px); z-index: 0; background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%230b1020' fill-opacity='1' d='M0,320L40,280L80,320L120,240L160,320L200,260L240,320L280,220L320,320L360,250L400,320L440,200L480,320L520,270L560,320L600,230L640,320L680,260L720,320L760,210L800,320L840,250L880,320L920,190L960,320L1000,260L1040,320L1080,230L1120,320L1160,270L1200,320L1240,220L1280,320L1320,250L1360,320L1400,280L1440,320L1440,320L0,320Z'%3E%3C/path%3E%3C/svg%3E"); background-size: cover; background-repeat: repeat-x; animation: panBg 60s linear infinite; }
        .layer-mid { height: 300px; opacity: 0.7; bottom: -20px; z-index: 1; background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%23121a3a' fill-opacity='1' d='M0,320L60,240L120,320L180,200L240,320L300,220L360,320L420,180L480,320L540,230L600,320L660,190L720,320L780,210L840,320L900,170L960,320L1020,230L1080,320L1140,200L1200,320L1260,220L1320,320L1380,250L1440,320L1440,320L0,320Z'%3E%3C/path%3E%3C/svg%3E"); background-size: cover; background-repeat: repeat-x; animation: panBg 40s linear infinite; }
        .layer-front { height: 250px; opacity: 1; bottom: -50px; z-index: 4; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 300' preserveAspectRatio='none'%3E%3Cdefs%3E%3ClinearGradient id='treeGrad' x1='0%25' y1='0%25' x2='100%25' y2='0%25'%3E%3Cstop offset='0%25' style='stop-color:%230b1020;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23121a3a;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M50,300 L150,100 L250,300 M150,100 L150,300' fill='url(%23treeGrad)'/%3E%3Cpath d='M150,100 L100,200 L200,200 Z' fill='%23ecf0f1' opacity='0.3'/%3E%3Cpath d='M300,300 L400,50 L500,300' fill='url(%23treeGrad)'/%3E%3Cpath d='M400,50 L340,180 L460,180 Z' fill='%23ecf0f1' opacity='0.3'/%3E%3Cpath d='M550,300 L650,120 L750,300' fill='url(%23treeGrad)'/%3E%3Cpath d='M800,300 L900,80 L1000,300' fill='url(%23treeGrad)'/%3E%3Cpath d='M900,80 L840,200 L960,200 Z' fill='%23ecf0f1' opacity='0.3'/%3E%3Cpath d='M1050,300 L1125,150 L1200,300' fill='url(%23treeGrad)'/%3E%3C/svg%3E"); background-size: auto 100%; }

        /* --- ANİMASYONLAR --- */
        @keyframes panBg { 0% { background-position: 0 0; } 100% { background-position: 1440px 0; } }
        @keyframes popIn { 0% { transform: scale(0.85) translateY(40px) rotate(-2deg); opacity: 0; } 100% { transform: scale(1) translateY(0) rotate(0); opacity: 1; } }
        @keyframes blinkLive { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
        @keyframes softFloat { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-12px); } }
        @keyframes wiggle { 0%, 100% { transform: rotate(-2deg); } 50% { transform: rotate(2deg); } }
        @keyframes floatSticker { 0% { transform: translateY(0) rotate(0deg); opacity: 0; } 10% { opacity: 1; } 90% { opacity: 1; } 100% { transform: translateY(-120px) rotate(20deg); opacity: 0; } }
        @keyframes stampPop { 0% { transform: scale(2) rotate(-20deg); opacity: 0; } 50% { transform: scale(0.9) rotate(5deg); opacity: 1; } 100% { transform: scale(1) rotate(-5deg); opacity: 1; } }

        /* --- UI ELEMENTS --- */
        .lang-switch { position: fixed; top: 30px; right: 30px; background: var(--kraft-light); border: 3px solid var(--ink); border-radius: 12px; padding: 5px; display: flex; gap: 5px; z-index: 1000; box-shadow: 4px 4px 0 var(--ink); transition: 0.2s; }
        .lang-switch:hover { transform: translate(-2px, -2px); box-shadow: 6px 6px 0 var(--ink); }
        .lang-btn { border: none; background: none; padding: 6px 14px; font-weight: 900; font-family: 'Courier New', monospace; font-size: 14px; cursor: pointer; border-radius: 8px; transition: 0.2s; color: #888; }
        .lang-btn.active { background: var(--ink); color: white; }

        /* --- ORTAK BANT --- */
        .paper-tape {
            position: absolute; background: var(--tape-color);
            border: 2px dashed rgba(255,255,255,0.7); backdrop-filter: blur(4px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); z-index: 10;
        }

        /* --- CONTENT WRAPPER --- */
        .stage { width: 100%; max-width: 1000px; height: 85vh; position: relative; display: flex; justify-content: center; align-items: center; z-index: 20; }
        .page-section { position: absolute; width: 100%; height: 100%; display: none; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
        .page-section.active { display: flex; animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }

        /* =========================================
           HOME TAB TASARIMI (KARTON TEMA)
           ========================================= */
        .home-scene-wrapper { perspective: 1500px; display: flex; justify-content: center; align-items: center; width: 100%; position: relative; }
        .cardboard-hero {
            width: 520px; background-color: var(--kraft-light);
            background-image: radial-gradient(rgba(0,0,0,0.03) 2px, transparent 2px);
            background-size: 15px 15px; border-radius: 20px; border: 5px solid var(--ink);
            position: relative; display: flex; flex-direction: column; align-items: center;
            padding: 60px 30px 50px 30px; box-shadow: 15px 15px 0 var(--ink), 0 30px 60px rgba(0,0,0,0.4);
            transform-style: preserve-3d; animation: softFloat 6s ease-in-out infinite; z-index: 10;
        }
        .cardboard-hero .hero-tape { width: 160px; height: 45px; top: -20px; left: 50%; transform: translateX(-50%) rotate(2deg); }
        .cardboard-hero .hero-clip { position: absolute; left: -15px; top: 40px; font-size: 40px; color: #7f8fa6; transform: rotate(-15deg); filter: drop-shadow(3px 3px 0 rgba(0,0,0,0.2)); }
        
        .polaroid-frame {
            width: 220px; background: #fff; border: 4px solid var(--ink); padding: 12px 12px 40px 12px;
            box-shadow: 8px 8px 0 rgba(0,0,0,0.15); position: relative; transform: translateZ(50px) rotate(-3deg);
            margin-bottom: 25px; transition: 0.4s; display: flex; flex-direction: column; align-items: center;
        }
        .polaroid-frame:hover { transform: translateZ(80px) rotate(0deg) scale(1.05); box-shadow: 12px 12px 0 rgba(0,0,0,0.2); }
        .polaroid-frame img { width: 100%; height: 200px; object-fit: cover; border: 3px solid var(--ink); background: #f0f0f0; }
        .hero-badge-sticker { position: absolute; bottom: 5px; right: -20px; background: var(--s-yellow); color: var(--ink); width: 60px; height: 60px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 28px; border: 4px solid var(--ink); box-shadow: 4px 4px 0 var(--ink); transform: translateZ(20px) rotate(15deg); animation: wiggle 3s infinite ease-in-out; }

        .home-title { font-family: 'Outfit', sans-serif; font-weight: 900; font-size: 64px; color: var(--ink); margin: 0; line-height: 1; text-align: center; letter-spacing: -2px; transform: translateZ(40px); text-shadow: 4px 4px 0 var(--snow), 6px 6px 0 rgba(0,0,0,0.1); }
        .home-subtitle { font-family: 'Courier New', monospace; color: var(--accent); font-weight: 900; font-size: 18px; margin-top: 15px; margin-bottom: 35px; background: var(--snow); padding: 8px 20px; border-radius: 8px; border: 3px dashed var(--accent); transform: translateZ(35px) rotate(-1deg); box-shadow: 3px 3px 0 rgba(0,0,0,0.1); }
        
        .btn-sticker-explore { background: var(--s-green); color: var(--ink); font-family: 'Inter', sans-serif; font-weight: 900; font-size: 22px; padding: 16px 45px; border-radius: 12px; text-decoration: none; border: 4px solid var(--ink); box-shadow: 6px 6px 0 var(--ink); transition: 0.2s; display: inline-flex; align-items: center; gap: 12px; transform: translateZ(50px); text-transform: uppercase; }
        .btn-sticker-explore:hover { transform: translateZ(60px) translateY(-5px) scale(1.05); box-shadow: 10px 10px 0 var(--ink); background: #26de81; }

        .doodle-sticker { position: absolute; font-size: 36px; z-index: 5; pointer-events: none; filter: drop-shadow(3px 3px 0 var(--ink)); }
        .ds-1 { top: 10%; left: -15%; animation: floatSticker 7s infinite ease-in; color: var(--s-red); }
        .ds-2 { bottom: 20%; right: -15%; animation: floatSticker 9s infinite ease-in 2s; color: var(--accent); font-size: 44px; }
        .ds-3 { top: 30%; right: -10%; animation: floatSticker 8s infinite ease-in 1s; color: var(--s-yellow); }

        /* =========================================
           YENİ: STUDIO TAB TASARIMI (CORKBOARD / PANO)
           ========================================= */
        .studio-corkboard {
            width: 100%; max-width: 900px;
            background-color: var(--kraft-dark);
            background-image: radial-gradient(rgba(45, 36, 30, 0.15) 2px, transparent 2px);
            background-size: 20px 20px;
            border: 8px solid var(--ink); border-radius: 12px;
            padding: 40px; display: flex; flex-direction: column; align-items: center;
            box-shadow: 15px 15px 0 rgba(0,0,0,0.2), inset 0 0 40px rgba(0,0,0,0.3);
            position: relative; overflow-y: auto; max-height: 80vh; scrollbar-width: none;
        }
        .cb-main-tape { width: 200px; height: 40px; top: -15px; left: 50%; transform: translateX(-50%) rotate(1deg); }
        
        .studio-corkboard-header { text-align: center; margin-bottom: 40px; position: relative; z-index: 2; display:flex; flex-direction:column; align-items:center;}
        .studio-corkboard-header h2 { font-size: 56px; font-weight: 900; color: var(--snow); text-shadow: 4px 4px 0 var(--ink); margin: 0; letter-spacing: 2px; }
        .studio-corkboard-header p { background: var(--s-red); color: white; padding: 5px 15px; font-family: 'Courier New', monospace; font-weight: bold; font-size: 18px; border: 3px solid var(--ink); transform: rotate(-3deg); box-shadow: 3px 3px 0 var(--ink); display: inline-block; margin-top: -10px;}

        .sc-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; width: 100%; align-items: start; }
        
        /* Sticky Notes & Polaroids */
        .sc-item { position: relative; padding: 20px; border: 3px solid var(--ink); box-shadow: 6px 6px 0 rgba(0,0,0,0.15); transition: 0.2s; }
        .sc-item:hover { transform: scale(1.05) !important; z-index: 10; box-shadow: 10px 10px 0 rgba(0,0,0,0.25); }
        .sc-item .sc-pin { position: absolute; top: 10px; left: 50%; transform: translateX(-50%); width: 16px; height: 16px; background: var(--s-red); border-radius: 50%; border: 2px solid var(--ink); box-shadow: 2px 2px 0 rgba(0,0,0,0.2); z-index: 2; }
        .sc-item .sc-pin::after { content:''; position:absolute; top:3px; left:3px; width:4px; height:4px; background:white; border-radius:50%; }
        
        .sc-note { background: var(--s-yellow); font-family: 'Courier New', monospace; transform: rotate(3deg); }
        .sc-note.blue { background: #74b9ff; transform: rotate(-2deg); }
        .sc-note.green { background: var(--s-green); transform: rotate(4deg); }
        .sc-note h3 { margin: 10px 0; font-size: 22px; font-weight: 900; border-bottom: 2px dashed rgba(0,0,0,0.3); padding-bottom: 5px; }
        .sc-note p { font-size: 15px; font-weight: bold; line-height: 1.4; color: var(--ink); margin:0;}

        .sc-polaroid { background: white; padding: 12px 12px 30px 12px; transform: rotate(-4deg); text-align: center; }
        .sc-polaroid img { width: 100%; height: 140px; object-fit: contain; border: 3px solid var(--ink); background: var(--kraft-light); margin-bottom: 10px; }
        .sc-polaroid span { font-family: 'Inter', sans-serif; font-weight: 900; font-size: 18px; color: var(--ink); }

        /* =========================================
           YENİ: FREE MODELS EKRANI (TAMAMEN BİRLEŞTİRİLDİ)
           ========================================= */
        .models-showcase {
            width: 100%; max-width: 900px;
            background: var(--kraft-base);
            border: 6px solid var(--ink); border-radius: 15px;
            padding: 40px; display: flex; flex-direction: column;
            box-shadow: 15px 15px 0 rgba(0,0,0,0.15);
            position: relative; height: 80vh; overflow: hidden;
        }
        .ms-header { text-align: center; border-bottom: 4px dashed var(--ink); padding-bottom: 20px; margin-bottom: 20px; }
        .ms-header h2 { font-size: 42px; font-weight: 900; margin: 0; color: var(--ink); text-transform: uppercase; text-shadow: 2px 2px 0 var(--snow); }
        .ms-header p { font-family: 'Inter', sans-serif; font-weight: 600; font-size: 16px; margin: 10px 0 0 0; color: #444; }
        
        .ms-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; overflow-y: auto; padding-right: 10px; padding-bottom: 40px; scrollbar-width: none; }
        
        .ms-card { background: var(--snow); border: 4px solid var(--ink); border-radius: 12px; overflow: hidden; box-shadow: 6px 6px 0 var(--ink); transition: 0.2s; display:flex; flex-direction: column; }
        .ms-card:hover { transform: translateY(-5px) scale(1.02); box-shadow: 10px 10px 0 var(--ink); }
        .ms-thumb { width: 100%; height: 140px; background: var(--kraft-dark); border-bottom: 3px solid var(--ink); display:flex; justify-content:center; align-items:center; font-size: 50px; color: var(--ink); opacity: 0.8;}
        .ms-info { padding: 15px; flex: 1; display:flex; flex-direction:column; justify-content:space-between; }
        .ms-info h4 { margin: 0 0 10px 0; font-size: 18px; font-weight: 900; color: var(--ink); }
        .ms-btn { background: var(--s-green); color: var(--ink); text-align: center; font-weight: 900; font-family: 'Inter', sans-serif; padding: 10px; border-radius: 8px; border: 3px solid var(--ink); text-decoration: none; display: block; box-shadow: 3px 3px 0 var(--ink); transition: 0.1s; text-transform: uppercase; }
        .ms-btn:hover { background: #26de81; transform: translate(2px, 2px); box-shadow: 1px 1px 0 var(--ink); }

        /* =========================================
           DİĞER TABLAR (Proje, Haberler, Hakkında)
           ========================================= */
        .cardboard-about { background-color: var(--kraft-base); border: 5px solid var(--ink); border-radius: 15px; width: 100%; max-width: 850px; padding: 50px 40px; display: flex; align-items: center; gap: 50px; position: relative; box-shadow: 15px 15px 0 rgba(0,0,0,0.15); background-image: radial-gradient(rgba(0,0,0,0.03) 2px, transparent 2px); background-size: 15px 15px; }
        .about-tape-top { position: absolute; top: -15px; left: 50%; transform: translateX(-50%) rotate(1deg); width: 150px; height: 40px; background: rgba(255,255,255,0.4); border: 2px dashed rgba(255,255,255,0.8); backdrop-filter: blur(2px); box-shadow: 0 2px 4px rgba(0,0,0,0.1); z-index: 5; }
        .cb-text-content { flex: 1; text-align: left; }
        .founder-stamp { border: 4px solid #9b59b6; color: #9b59b6; padding: 5px 15px; font-weight: 900; font-family: 'Courier New', monospace; display: inline-block; transform: rotate(-3deg); margin-bottom: 15px; border-radius: 8px; box-shadow: 2px 2px 0 rgba(155, 89, 182, 0.3); }
        .cb-title { font-size: 42px; font-weight: 900; margin: 0 0 20px 0; color: var(--ink); line-height: 1.1; text-shadow: 2px 2px 0 var(--snow); }
        .ink-highlight { background: var(--s-green); color: var(--ink); padding: 0 8px; border-radius: 4px; border: 2px solid var(--ink); display: inline-block; transform: rotate(-1deg); }
        .cb-bio { font-family: 'Inter', sans-serif; font-weight: 600; color: var(--ink); font-size: 17px; line-height: 1.6; margin-bottom: 25px; }
        .cb-socials { display: flex; gap: 15px; }
        .social-sticker { width: 55px; height: 55px; background: var(--snow); border: 3px solid var(--ink); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; color: var(--ink); text-decoration: none; box-shadow: 4px 4px 0 var(--ink); transition: 0.2s; }
        .social-sticker:hover { transform: translateY(-5px) rotate(10deg); box-shadow: 6px 6px 0 var(--ink); background: var(--s-yellow); }
        
        .project-card, .news-container { border: 5px solid var(--ink); box-shadow: 12px 12px 0 var(--ink); }
        .project-card { background: var(--snow); border-radius: 20px; padding: 15px; width: 100%; max-width: 500px; text-align: center; position: relative; }
        .game-thumb { width: 100%; height: 280px; background: #333; border-radius: 12px; overflow: hidden; border: 3px solid var(--ink); }
        .game-thumb img { width: 100%; height: 100%; object-fit: cover; transition: 0.3s; }
        .game-thumb:hover img { transform: scale(1.05); }
        .game-info { padding: 20px; }
        .game-title { font-size: 36px; font-weight: 900; color: var(--ink); margin: 0; }
        .play-big-btn { display: block; width: 100%; background: var(--s-green); color: var(--ink); padding: 16px; border-radius: 12px; text-decoration: none; font-weight: 900; font-size: 20px; margin-top: 15px; border: 4px solid var(--ink); box-shadow: 5px 5px 0 var(--ink); transition: 0.1s; text-transform: uppercase; }
        .play-big-btn:hover { transform: translateY(2px); box-shadow: 3px 3px 0 var(--ink); }

        .news-container { background-color: var(--kraft-dark); border-radius: 15px; width: 100%; max-width: 700px; height: 80vh; display: flex; flex-direction: column; overflow: hidden; }
        .news-header-modern { padding: 15px 20px; background: var(--kraft-light); border-bottom: 4px dashed var(--ink); z-index: 10; display: flex; flex-direction: column; gap: 10px; }
        .nh-top-row { display: flex; justify-content: space-between; align-items: center; }
        .nh-title { font-family: 'Courier New', monospace; font-size: 26px; font-weight: 900; color: var(--ink); background: var(--snow); padding: 2px 10px; border: 2px solid var(--ink); transform: rotate(-2deg); }
        .search-bar-wrap { display: flex; background: var(--snow); border: 3px solid var(--ink); border-radius: 10px; padding: 5px 10px; align-items: center; width: 100%; margin-top: 5px; box-shadow: 3px 3px 0 rgba(0,0,0,0.1); }
        .search-input { border: none; outline: none; background: transparent; font-family: 'Courier New', monospace; font-weight: bold; width: 100%; font-size: 14px; }
        .news-filters { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; scrollbar-width: none; margin-top: 10px;}
        .filter-btn { background: var(--snow); border: 3px solid var(--ink); padding: 6px 14px; font-weight: 800; color: var(--ink); cursor: pointer; font-size: 13px; border-radius: 8px; box-shadow: 3px 3px 0 var(--ink); transition: 0.1s; }
        .filter-btn.active { transform: translate(2px, 2px); box-shadow: 1px 1px 0 var(--ink); background: var(--ink); color: var(--snow); }
        .news-scroll-area { flex: 1; overflow-y: auto; padding: 25px 30px 80px 30px; scroll-behavior: smooth; }
        .news-card { background: var(--snow); padding: 20px; margin-bottom: 30px; position: relative; box-shadow: 6px 6px 0 var(--ink); border: 3px solid var(--ink); border-radius: 10px; font-family: 'Inter', sans-serif; transition: 0.2s; transform: rotate(1deg); }
        .news-card:hover { transform: scale(1.02) rotate(0deg); z-index: 5; }
        .nc-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; border-bottom: 2px dashed #ccc; padding-bottom: 10px; }
        .nc-user-row { display: flex; gap: 10px; align-items: center; }
        .nc-avatar { width: 40px; height: 40px; border-radius: 8px; background: #eee; border: 2px solid var(--ink); }
        .nc-author { font-weight: 900; font-size: 16px; color: var(--ink); }
        .nc-title { font-size: 20px; font-weight: 900; margin: 15px 0 10px 0; }
        .nc-desc { font-size: 15px; color: #444; line-height: 1.6; font-weight: 500; }

        /* --- WALKMAN PLAYER --- */
        #walkman-container { position: fixed; bottom: -400px; right: 30px; width: 320px; height: 180px; background: linear-gradient(135deg, #2d3436, #000); border: 4px solid #b2bec3; border-radius: 20px 20px 5px 5px; z-index: 9999; transition: bottom 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); display: flex; flex-direction: column; padding: 15px; box-shadow: 0 20px 50px rgba(0,0,0,0.6); }
        #walkman-container.active { bottom: 30px; }
        .wm-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; color: #b2bec3; font-family: monospace; font-weight: bold; }
        .wm-close { background: #d63031; border: 2px solid #ff7675; color: white; width: 24px; height: 24px; border-radius: 50%; cursor: pointer; }
        .wm-screen-frame { flex: 1; background: #1a1a1a; border-radius: 8px; padding: 8px; }
        #spotify-frame { width: 100%; height: 100%; border: none; background: #000; border-radius: 4px; }

        /* --- NAV DOCK --- */
        .nav-dock-wrapper { position: fixed; bottom: 30px; left: 0; width: 100%; display: flex; justify-content: center; z-index: 1000; pointer-events: none; height: 100px; align-items: flex-end; }
        .nav-dock { pointer-events: auto; background-color: var(--kraft-base); padding: 12px 18px; border-radius: 20px; display: flex; align-items: center; gap: 15px; border: 4px solid var(--ink); box-shadow: 0 10px 25px rgba(0,0,0,0.3), 8px 8px 0 rgba(0,0,0,0.2); position: relative; z-index: 10; background-image: radial-gradient(rgba(0,0,0,0.05) 2px, transparent 2px); background-size: 10px 10px; }
        .dock-tape { position: absolute; top: -15px; left: 50%; transform: translateX(-50%) rotate(-2deg); width: 100px; height: 35px; background: rgba(255, 255, 255, 0.5); border: 2px dashed rgba(255,255,255,0.8); box-shadow: 0 2px 4px rgba(0,0,0,0.1); backdrop-filter: blur(2px); pointer-events: none; z-index: -1; }
        .nav-btn { width: 55px; height: 55px; border-radius: 12px; background: var(--snow); border: 3px solid var(--ink); font-size: 22px; cursor: pointer; display: flex; align-items: center; justify-content: center; color: var(--ink); position: relative; z-index: 5; transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94); box-shadow: 4px 4px 0 var(--ink); }
        .nav-btn:hover { transform: translateY(-5px); box-shadow: 6px 6px 0 var(--ink); background: #fdf5e6; }
        .nav-btn.active { transform: translateY(-8px); box-shadow: 6px 8px 0 var(--ink); background: var(--s-yellow); }
        .nav-btn.active i { transform: scale(1.15); }

        .toast-notification { position: fixed; bottom: 120px; left: 50%; transform: translateX(-50%) translateY(50px); background: var(--ink); color: white; padding: 12px 25px; border-radius: 10px; border: 3px solid var(--snow); box-shadow: 5px 5px 0 rgba(0,0,0,0.3); display: flex; align-items: center; gap: 10px; font-weight: bold; opacity: 0; visibility: hidden; transition: 0.3s; z-index: 99999; }
        .toast-notification.show { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0); }

        /* MOBİL UYUM */
        @media (max-width: 768px) { 
            .nav-dock-wrapper { bottom: 20px; height: auto; } 
            .nav-dock { width: 95%; gap: 8px; justify-content: space-around; padding: 10px; border-radius: 15px; } 
            .nav-btn { width: 45px; height: 45px; font-size: 18px; border-radius: 10px; box-shadow: 3px 3px 0 var(--ink); }
            .cardboard-hero { width: 90%; padding: 40px 20px; }
            .home-title { font-size: 48px; }
            .doodle-sticker { font-size: 28px; }
            .cardboard-about { flex-direction: column; text-align: center; width: 95%; padding: 25px; } 
            #walkman-container { width: 90%; right: 5%; }
            
            /* Studio ve Free Models Mobil Uyum */
            .studio-corkboard { padding: 20px; border-width: 5px; }
            .studio-corkboard-header h2 { font-size: 36px; }
            .sc-grid { grid-template-columns: 1fr; gap: 20px; }
            
            .models-showcase { padding: 20px; border-width: 5px; }
            .ms-header h2 { font-size: 32px; }
            .ms-grid { grid-template-columns: 1fr; gap: 15px; }
        }
    </style>
</head>
<body>

    <!-- PRELOADER -->
    <div id="main-loader">
        <img src="evo_logo.png" class="loader-logo" alt="Evo Logo" onerror="this.style.display='none'">
        <div class="loader-text">EVO STUDIOS IS LOADING...</div>
    </div>

    <!-- ARKAPLAN -->
    <div class="forest-layer layer-back"></div>
    <div class="forest-layer layer-mid"></div>
    <div class="forest-layer layer-front"></div>

    <!-- DİL DEĞİŞTİRME -->
    <div class="lang-switch">
        <button class="lang-btn active" id="btn-tr" onclick="changeLanguage('tr')">TR</button>
        <button class="lang-btn" id="btn-en" onclick="changeLanguage('en')">EN</button>
    </div>

    <!-- TOAST BİLDİRİMİ -->
    <div id="toast" class="toast-notification">
        <i class="fa-solid fa-music" style="color:var(--s-green)"></i>
        <span id="toast-msg">Walkman Açılıyor...</span>
    </div>

    <!-- WALKMAN PLAYER -->
    <div id="walkman-container">
        <div class="wm-header">
            <span><i class="fa-brands fa-spotify" style="color:#1DB954"></i> EVO-WALKMAN</span>
            <button class="wm-close" onclick="closeWalkman()"><i class="fa-solid fa-power-off"></i></button>
        </div>
        <div class="wm-screen-frame">
            <iframe id="spotify-frame" src="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
        </div>
    </div>

    <!-- ANA MENÜ (NAV DOCK) -->
    <div class="nav-dock-wrapper">
        <div class="nav-dock">
            <div class="dock-tape"></div>
            <div class="nav-btn active" data-target="home"><i class="fa-solid fa-house"></i></div>
            <div class="nav-btn" data-target="studio"><i class="fa-solid fa-building"></i></div>
            <div class="nav-btn" data-target="project"><i class="fa-solid fa-gamepad"></i></div>
            <div class="nav-btn" data-target="news"><i class="fa-solid fa-newspaper"></i></div>
            <div class="nav-btn" data-target="free"><i class="fa-solid fa-gift"></i></div>
            <div class="nav-btn" data-target="about"><i class="fa-solid fa-id-card"></i></div>
        </div>
    </div>

    <div class="stage">
        
        <!-- === HOME === -->
        <div id="home" class="page-section active">
            <div class="home-scene-wrapper">
                <div class="cardboard-hero" id="tiltCard">
                    <div class="paper-tape hero-tape"></div>
                    <i class="fa-solid fa-paperclip hero-clip"></i>
                    <i class="fa-solid fa-sparkles doodle-sticker ds-1"></i>
                    <i class="fa-solid fa-crown doodle-sticker ds-2"></i>
                    <i class="fa-solid fa-code doodle-sticker ds-3"></i>

                    <div class="polaroid-frame">
                        <img src="maskot.png" alt="Mascot" onerror="this.src='https://tr.rbxcdn.com/7fb209cf8866164d1d94eb38e3e4a320/420/420/Image/Png'">
                        <div class="hero-badge-sticker"><i class="fa-solid fa-bolt"></i></div>
                    </div>

                    <h1 class="home-title">EVO STUDIOS</h1>
                    <div class="home-subtitle" data-t="home_subtitle">Ultimate Roblox Development</div>

                    <a href="#" onclick="switchTab('studio')" class="btn-sticker-explore">
                        <i class="fa-solid fa-rocket"></i>
                        <span data-t="explore_btn">Keşfet</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- === YENİ: STUDIO (CORKBOARD / PANO EKRANI) === -->
        <div id="studio" class="page-section">
            <div class="studio-corkboard">
                <div class="paper-tape cb-main-tape"></div>
                
                <div class="studio-corkboard-header">
                    <h2>EVO STUDIOS</h2>
                    <p data-t="founder_badge">KURUCU: BURAK</p>
                </div>

                <div class="sc-grid">
                    <!-- Başlangıç Notu -->
                    <div class="sc-item sc-note note-yellow">
                        <div class="sc-pin"></div>
                        <h3>2023 - Başlangıç</h3>
                        <p data-t="tl_2023">Sıradan bir fikir düzeyinde temelleri atıldı. Hayal gücünün sınırlarını zorlamak için yola çıkıldı.</p>
                    </div>

                    <!-- Logo Polaroid -->
                    <div class="sc-item sc-polaroid">
                        <div class="sc-pin"></div>
                        <img src="evo_logo.png" alt="Evo Logo" onerror="this.src='https://via.placeholder.com/150?text=EVO'">
                        <span>Core Logo</span>
                    </div>

                    <!-- Günümüz Notu -->
                    <div class="sc-item sc-note blue">
                        <div class="sc-pin"></div>
                        <h3>Günümüz</h3>
                        <p data-t="tl_now">Artık devasa bir kuruluşa dönüşen Evo Studios, Roblox platformunda büyük projeler geliştiriyor.</p>
                    </div>

                    <!-- Ekstra Not -->
                    <div class="sc-item sc-note green">
                        <div class="sc-pin"></div>
                        <h3>Vizyon</h3>
                        <p data-t="tl_vision">Kaliteli sistemler, temiz kod mimarisi ve oyuncuya eşsiz bir deneyim sunmak.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- === PROJECT === -->
        <div id="project" class="page-section">
            <div class="project-card">
                <div class="paper-tape" style="width:100px; height:30px; top:-15px; left:50%; transform:translateX(-50%) rotate(-3deg);"></div>
                <div class="game-thumb"><img data-project="thumb" src="test_place.png" alt="Test Place Game" onerror="this.src='https://via.placeholder.com/500x300/2b303b/ffffff?text=Oyun+Gorseli'"></div>
                <div class="game-info">
                    <h2 class="game-title" data-project="title">Test Place</h2>
                    <p style="color:#555; font-family:'Inter',sans-serif; font-weight:600; margin: 10px 0 20px 0;" data-t="project_desc" data-project="desc">Geliştirmekte olduğumuz yeni mekanikleri ve sistemleri test ettiğimiz özel alan.</p>
                    <a data-project="link" href="#" target="_blank" class="play-big-btn"><i class="fa-solid fa-play"></i> <span data-t="play_btn">Roblox'ta Oyna</span></a>
                </div>
            </div>
        </div>

        <!-- === HABERLER === -->
        <div id="news" class="page-section">
            <div class="news-container">
                <div class="news-header-modern">
                    <div class="nh-top-row">
                        <div class="nh-title">Evo Feed <i class="fa-solid fa-circle" style="color:var(--s-red); font-size:14px; animation: blinkLive 1.5s infinite;"></i></div>
                        <div class="search-bar-wrap">
                            <i class="fa-solid fa-search" style="color:var(--ink);"></i>
                            <input type="text" class="search-input" placeholder="Arama..." onkeyup="debounceSearch(this.value)">
                        </div>
                    </div>
                    <div class="news-filters">
                        <button class="filter-btn active" onclick="filterNews('all', this)" data-t="filter_all">All</button>
                        <button class="filter-btn" onclick="filterNews('update', this)" data-t="filter_update">Update</button>
                        <button class="filter-btn" onclick="filterNews('leak', this)" data-t="filter_leak">Leak</button>
                        <button class="filter-btn" onclick="filterNews('info', this)" data-t="filter_info">News</button>
                    </div>
                </div>
                <div id="news-feed" class="news-scroll-area" onscroll="checkScroll()">
                    <div style="text-align:center; padding:30px; font-weight:bold; font-family:'Courier New',monospace;">Yükleniyor...</div>
                </div>
            </div>
        </div>

        <!-- === YENİ: FREE MODELS (BİRLEŞTİRİLMİŞ TEMİZ EKRAN) === -->
        <div id="free" class="page-section">
            <div class="models-showcase">
                <div class="paper-tape" style="width:140px; height:40px; top:-15px; left:50%; transform:translateX(-50%) rotate(2deg);"></div>
                
                <div class="ms-header">
                    <h2><i class="fa-solid fa-box-open"></i> FREE MODELS</h2>
                    <p data-t="creations_desc">Roblox projelerin için hazırladığım ücretsiz sistemleri ve modelleri buradan bulabilirsin.</p>
                </div>

                <div class="ms-grid" id="models-grid">
                    <div class="muted" id="models-empty" style="text-align:center; padding:20px;">Dashboard üzerinden model ekleyince burada gözükecek.</div>
</div>
                    </div>

                </div>
            </div>
        </div>

        <!-- === ABOUT (BIO DÜZELTİLMİŞ) === -->
        <div id="about" class="page-section">
            <div class="cardboard-about">
                <div class="about-tape-top"></div>
                <div class="cb-text-content">
                    <div class="founder-stamp"><i class="fa-solid fa-code"></i> DEVELOPER</div>
                    <h2 class="cb-title"><span data-t="hello">MERHABA, BEN</span> <br><span class="ink-highlight">BURAK</span></h2>
                    <p class="cb-bio">
                        <span data-t="bio_1">Roblox platformunda sıradan fikirleri</span> <span style="background:var(--s-yellow); padding:0 4px; border:2px solid var(--ink); border-radius:4px; transform:rotate(-1deg); display:inline-block;" data-t="bio_2">olağanüstü deneyimlere</span> <span data-t="bio_3">dönüştürüyorum.</span><br><br>
                        <span data-t="bio_4">Profesyonel Scripter & UI Designer olarak,</span> <span data-t="bio_5">Evo Studios çatısı altında hayal gücünün sınırlarını zorluyorum.</span>
                    </p>
                    <div class="cb-socials">
                        <a href="#" class="social-sticker"><i class="fa-brands fa-discord"></i></a>
                        <a href="#" class="social-sticker"><i class="fa-brands fa-x-twitter"></i></a>
                        <a href="#" class="social-sticker"><i class="fa-brands fa-youtube"></i></a>
                    </div>
                </div>
                
                <!-- Düzeltilmiş Ortalı Polaroid Alanı -->
                <div class="polaroid-frame" style="margin-bottom:0; width:240px; height:auto; min-height:300px; display:flex; flex-direction:column; align-items:center;">
                    <img id="my-avatar" src="" alt="Avatar" onerror="this.src='https://tr.rbxcdn.com/7fb209cf8866164d1d94eb38e3e4a320/420/420/Image/Png'" style="height: 220px; width:100%; object-fit: cover;">
                    <div style="margin-top: 15px; width: 100%; text-align: center; font-family: 'Outfit', sans-serif;">
                        <div style="font-weight: 900; font-size: 26px; color: var(--ink); line-height: 1;">EVO</div>
                        <div style="color: #666; font-weight: 600; font-size: 14px; margin-top: 4px;" id="rbx-user">@SuBuOyundaYTBR</div>
                    </div>
                </div>
                
            </div>
        </div>

    </div>

    <script>
        // --- PRELOADER ---
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('main-loader').classList.add('hidden');
                changeLanguage(currentLang);
            }, 800);
        });

        const ROBLOX_ID = '1992693538'; 
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxgaVePszb9zvXaxccgPw0yzYo9Ul8CEzGGlVrd92Ha6CtkUbg67aO9dTL5XuxacBZ3/exec';

        // Dashboard entegrasyonu (sunucusuz: localStorage)
        const MODELS_KEY = "evo_models_data";
        const FEED_KEY = "evo_feed_data";
        const PROJECT_KEY = "evo_project_data";
        const PROFILE_KEY = "evo_prof_data";

        const safeParse = (str, def) => { try { return JSON.parse(str); } catch { return def; } };

        function downloadDataUrl(dataUrl, filename) {
            const a = document.createElement('a');
            a.href = dataUrl;
            a.download = filename || 'download';
            document.body.appendChild(a);
            a.click();
            a.remove();
        }
        let currentLang = localStorage.getItem('siteLang') || 'tr';
        let globalNewsData = []; 

        // DİL VERİLERİ GÜNCELLENDİ
        const langData = {
            tr: {
                home_subtitle: "Ultimate Roblox Development",
                explore_btn: "Keşfet", founder_badge: "KURUCU: BURAK",
                tl_2023: "Sıradan bir fikir düzeyinde temelleri atıldı. Hayal gücünün sınırlarını zorlamak için yola çıkıldı.",
                tl_now: "Artık devasa bir kuruluşa dönüşen Evo Studios, Roblox platformunda büyük projeler geliştiriyor.",
                tl_vision: "Kaliteli sistemler, temiz kod mimarisi ve oyuncuya eşsiz bir deneyim sunmak.",
                project_desc: "Geliştirmekte olduğumuz yeni mekanikleri ve sistemleri test ettiğimiz özel alan.", play_btn: "Roblox'ta Oyna",
                filter_all: "Tümü", filter_update: "Güncelleme", filter_leak: "Sızıntı", filter_info: "Duyuru",
                creations_desc: "Roblox projelerin için hazırladığım ücretsiz sistemleri ve modelleri buradan bulabilirsin.",
                hello: "MERHABA, BEN", bio_1: "Roblox platformunda sıradan fikirleri", bio_2: "olağanüstü deneyimlere", bio_3: "dönüştürüyorum.",
                bio_4: "Profesyonel Scripter & UI Designer olarak,", bio_5: "Evo Studios çatısı altında hayal gücünün sınırlarını zorluyorum."
            },
            en: {
                home_subtitle: "Ultimate Roblox Development",
                explore_btn: "Explore", founder_badge: "FOUNDER: BURAK",
                tl_2023: "Founded purely as an idea. Set out to push the boundaries of imagination.",
                tl_now: "Now transformed into a massive entity, Evo Studios develops huge projects on the Roblox platform.",
                tl_vision: "Quality systems, clean code architecture, and providing a unique experience to the player.",
                project_desc: "A special area where we test new mechanics and systems we are developing.", play_btn: "Play on Roblox",
                filter_all: "All", filter_update: "Update", filter_leak: "Leak", filter_info: "News",
                creations_desc: "You can find free systems and models I created for your Roblox projects here.",
                hello: "HELLO, I'M", bio_1: "I turn ordinary ideas into", bio_2: "extraordinary experiences", bio_3: "on the Roblox platform.",
                bio_4: "As a professional Scripter & UI Designer,", bio_5: "I push the limits of imagination under Evo Studios."
            }
        };

        function changeLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('siteLang', lang);
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('btn-' + lang).classList.add('active');
            document.querySelectorAll('[data-t]').forEach(el => {
                const key = el.getAttribute('data-t');
                if (langData[lang][key]) el.innerHTML = langData[lang][key];
            });
            renderModelsFromDashboard();
            applyProjectToUI();
            applyProfileToUI();
            loadNewsMerged();
        }

        // --- TAB SİSTEMİ ---
        const navBtns = document.querySelectorAll('.nav-btn');
        const sections = document.querySelectorAll('.page-section');
        navBtns.forEach(btn => {
            btn.addEventListener('click', () => { 
                btn.style.transform = "scale(0.85) translateY(5px)";
                setTimeout(() => btn.style.transform = "", 150);
                switchTab(btn.getAttribute('data-target')); 
            });
        });

        function switchTab(id) {
            navBtns.forEach(b => b.classList.remove('active'));
            const activeBtn = document.querySelector(`.nav-btn[data-target="${id}"]`);
            if(activeBtn) activeBtn.classList.add('active');
            sections.forEach(s => s.classList.remove('active'));
            const activeSec = document.getElementById(id);
            if(activeSec) activeSec.classList.add('active');
        }

        // --- HOME 3D KART EFEKTİ ---
        const homeCard = document.getElementById('tiltCard');
        document.getElementById('home').addEventListener('mousemove', (e) => {
            if(window.innerWidth > 768) {
                const rect = homeCard.getBoundingClientRect();
                const x = e.clientX - (rect.left + rect.width / 2);
                const y = e.clientY - (rect.top + rect.height / 2);
                homeCard.style.transform = `perspective(1000px) rotateY(${x/40}deg) rotateX(${-y/40}deg)`;
            }
        });
        document.getElementById('home').addEventListener('mouseleave', () => {
            homeCard.style.transform = 'perspective(1000px) rotateY(0) rotateX(0)';
        });

        // --- SPOTIFY WALKMAN ---
        function getSpotifyEmbedUrl(url) {
            if (!url) return null;
            let cleanUrl = url.trim();
            if (cleanUrl.includes('spotify.com')) {
                if (cleanUrl.includes('/track/')) cleanUrl = cleanUrl.replace('/track/', '/embed/track/').split('?')[0];
                return cleanUrl + '?utm_source=generator&theme=0&autoplay=1';
            }
            return null;
        }

        function playMusic(embedUrl) {
            if(!embedUrl) return;
            document.getElementById('spotify-frame').src = embedUrl;
            document.getElementById('walkman-container').classList.add('active');
            document.getElementById('toast').classList.add('show');
            setTimeout(() => document.getElementById('toast').classList.remove('show'), 2000);
        }
        function closeWalkman() {
            document.getElementById('walkman-container').classList.remove('active');
            setTimeout(() => { document.getElementById('spotify-frame').src = ''; }, 500); 
        }

        // --- HABERLER ---
        async function loadNewsFromSheet() {
            const feed = document.getElementById('news-feed');
            try {
                const res = await fetch('https://api.allorigins.win/get?url=' + encodeURIComponent(SCRIPT_URL + "?dummy=1"));
                const json = await res.json();
                if(json.contents) {
                    globalNewsData = JSON.parse(json.contents).reverse();
                    feed.innerHTML = ''; 
                    renderNewsBatch('all');
                }
            } catch(e) { feed.innerHTML = "Hata oluştu."; }
        }

        function renderNewsBatch(filterType) {
            const feed = document.getElementById('news-feed');
            if(globalNewsData.length === 0) return;
            
            let htmlContent = '';
            for(let i = 0; i < Math.min(5, globalNewsData.length); i++) {
                const item = globalNewsData[i];
                if(!item.baslik) continue;
                
                let embedUrl = getSpotifyEmbedUrl(item.music || '');
                let musicAction = embedUrl ? `ondblclick="playMusic('${embedUrl}')"` : '';
                let musicStyle = embedUrl ? 'border:2px solid var(--s-green); cursor:pointer;' : 'border: 2px solid var(--ink);';

                htmlContent += `
                <div class="news-card">
                    <div class="nc-header">
                        <div class="nc-user-row">
                            <img src="evo_logo.png" class="nc-avatar"> 
                            <div class="nc-meta"><span class="nc-author">Evo Studios</span></div>
                        </div>
                        <span style="background:var(--s-yellow); color:var(--ink); padding:4px 10px; border-radius:6px; font-size:12px; font-weight:900; box-shadow: 2px 2px 0 var(--ink); transform:rotate(2deg); ${musicStyle}" ${musicAction}>${item.etiket || 'Log'}</span>
                    </div>
                    <h3 class="nc-title">${item.baslik}</h3>
                    ${item.gorsel ? `<img src="${item.gorsel}" style="width:100%; border-radius:8px; border:3px solid var(--ink); margin-bottom:12px;">` : ''}
                    <div class="nc-content"><p class="nc-desc">${item.icerik}</p></div>
                </div>`;
            }
            feed.innerHTML = htmlContent;
        }

        // --- ROBLOX API ---
        async function fetchRobloxData() {
            try {
                const url = `https://thumbnails.roblox.com/v1/users/avatar?userIds=${ROBLOX_ID}&size=420x420&format=Png&isCircular=false`;
                const proxyUrl = 'https://api.codetabs.com/v1/proxy?quest=' + encodeURIComponent(url);
                const res = await fetch(proxyUrl);
                const data = await res.json();
                if (data.data && data.data[0] && data.data[0].imageUrl) {
                    document.getElementById('my-avatar').src = data.data[0].imageUrl;
                }
            } catch (err) {}
        }
        fetchRobloxData();
    
        // ===============================
        // Dashboard -> Site Render
        // ===============================

        function getModels() { return safeParse(localStorage.getItem(MODELS_KEY), []); }
        function getFeed() { return safeParse(localStorage.getItem(FEED_KEY), []); }
        function getProject() { return safeParse(localStorage.getItem(PROJECT_KEY), null) || {}; }
        function getProfile() { return safeParse(localStorage.getItem(PROFILE_KEY), null) || {}; }

        function renderModelsFromDashboard() {
            const grid = document.getElementById('models-grid');
            if (!grid) return;

            const models = getModels().slice().sort((a,b) => (b.createdAt||0) - (a.createdAt||0));
            grid.innerHTML = "";

            if (!models.length) {
                grid.innerHTML = '<div class="muted" id="models-empty" style="text-align:center; padding:20px;">Dashboard üzerinden model ekleyince burada gözükecek.</div>';
                return;
            }

            models.forEach(m => {
                const thumb = m.thumbDataUrl || m.thumbUrl || "";
                const icon = thumb ? '' : '<i class="fa-solid fa-cube"></i>';

                const btnHtml = m.fileData
                    ? `<a href="javascript:void(0)" class="ms-btn" onclick="downloadDataUrl('${m.fileData}','${(m.fileName||'model.rbxm').replace(/'/g,'')}')"><i class="fa-solid fa-download"></i> İndir</a>`
                    : `<a href="${m.link || '#'}" target="_blank" class="ms-btn"><i class="fa-solid fa-link"></i> Roblox'ta Aç</a>`;

                grid.innerHTML += `
                    <div class="ms-card">
                        <div class="ms-thumb">${thumb ? `<img src="${thumb}" style="width:100%; height:100%; object-fit:cover;">` : icon}</div>
                        <div class="ms-info">
                            <h4>${(m.title || 'Model').replace(/</g,'&lt;')}</h4>
                            ${btnHtml}
                        </div>
                    </div>
                `;
            });
        }

        function buildLocalFeedCards() {
            const arr = getFeed().slice().sort((a,b) => {
                if(!!a.pinned !== !!b.pinned) return a.pinned ? -1 : 1;
                return (b.createdAt||0) - (a.createdAt||0);
            });

            if (!arr.length) return "";

            const tagMap = { info: "📢 Genel", update: "🚀 Güncelleme", leak: "👀 Leak" };

            return arr.map(item => {
                const tag = tagMap[item.tag] || "📢";
                const img = item.mediaDataUrl || item.mediaUrl || "";
                return `
                    <div class="news-card" style="${item.pinned ? 'border:3px solid var(--s-yellow);' : ''}">
                        <div class="nc-header">
                            <div class="nc-user-row">
                                <img src="evo_logo.png" class="nc-avatar">
                                <div class="nc-meta"><span class="nc-author">Evo Studios</span></div>
                            </div>
                            <span style="background:var(--s-yellow); color:var(--ink); padding:4px 10px; border-radius:6px; font-size:12px; font-weight:900; box-shadow: 2px 2px 0 var(--ink); transform:rotate(2deg); border: 2px solid var(--ink);">
                                ${tag}${item.pinned ? " • PIN" : ""}
                            </span>
                        </div>
                        <h3 class="nc-title">${(item.title||'').replace(/</g,'&lt;')}</h3>
                        ${img ? `<img src="${img}" style="width:100%; border-radius:8px; border:3px solid var(--ink); margin-bottom:12px;">` : ''}
                        <div class="nc-content"><p class="nc-desc">${(item.content||'').replace(/</g,'&lt;')}</p></div>
                    </div>
                `;
            }).join("");
        }

        async function loadNewsMerged() {
            // Local feed önce
            const feedEl = document.getElementById('news-feed');
            if (feedEl) {
                feedEl.innerHTML = buildLocalFeedCards() || '<div class="muted" style="text-align:center; padding:20px;">Henüz duyuru yok. (Dashboarddan ekle)</div>';
            }
            // Sonra sheet news üstüne ekle (varsa)
            try {
                await loadNewsFromSheet();
                // loadNewsFromSheet kendi içeriği set ediyor olabilir; bu durumda local feed'i tekrar üstte birleştiriyoruz.
                const sheetHtml = feedEl ? feedEl.innerHTML : "";
                const localHtml = buildLocalFeedCards();
                if (feedEl) feedEl.innerHTML = (localHtml || "") + sheetHtml;
            } catch(e) { /* ignore */ }
        }

        function applyProjectToUI() {
            const g = getProject();
            if(!g || (!g.title && !g.link && !g.thumbUrl && !g.thumbDataUrl && !g.desc)) return;

            // Sayfada proje kartı varsa basit güncelleme: data attribute ararız
            const titleEl = document.querySelector('[data-project="title"]');
            const linkEl = document.querySelector('[data-project="link"]');
            const imgEl  = document.querySelector('[data-project="thumb"]');
            const descEl = document.querySelector('[data-project="desc"]');

            if (titleEl && g.title) titleEl.textContent = g.title;
            if (linkEl && g.link) linkEl.href = g.link;
            if (imgEl && (g.thumbDataUrl || g.thumbUrl)) imgEl.src = g.thumbDataUrl || g.thumbUrl;
            if (descEl && g.desc) descEl.textContent = g.desc;
        }

        function applyProfileToUI() {
            const p = getProfile();
            if(!p) return;
            const nameEl = document.querySelector('[data-profile="name"]');
            const handleEl = document.querySelector('[data-profile="handle"]');
            const avatarEl = document.querySelector('[data-profile="avatar"]');
            if (nameEl && p.displayName) nameEl.textContent = p.displayName;
            if (handleEl && p.handle) handleEl.textContent = p.handle;
            if (avatarEl && p.avatarUrl) avatarEl.src = p.avatarUrl;
        }

        // İlk yükleme
        window.addEventListener('load', () => {
            renderModelsFromDashboard();
            applyProjectToUI();
            applyProfileToUI();
            // Haberleri birleşik çek
            loadNewsMerged();
        });

</script>
</body>
</html>
